var imuHandler=function(e){"use strict";function i(e){return $(e).is(":checkbox")?t(e):$(e).is(":radio")?t(e):$(e).is(":submit")?c(e):$(e).is(":button")?r(e):$(e).is("a")?r(e):$(e).is("select")?a(e):$(e).attr("type")&&$(e).is(":input")&&-1!==["text","email","tel"].indexOf($(e).attr("type").toLowerCase())?n(e):void 0}function t(e){$(e).change(function(){var i=new IMUTrack({region:o("region",e),subject:o("subject",e,"user"),action:o("action",e,$(e).is(":checked")?"click":"unclick"),description:o("description",e,"checkbox"),vertical:o("vertical",e),value:o("value",e,$(e).val())});userManager.track(i)})}function n(e){$(e).blur(function(){var i=new IMUTrack({region:o("region",e),subject:o("subject",e,"user"),action:o("action",e,"input"),description:o("description",e,"text"),vertical:o("vertical",e),value:$(e).val()});userManager.track(i)})}function a(e){$(e).change(function(){var i=$(e).val();_.isArray(i)&&(i=i.map(function(i){return $(e).find("option[value='"+i+"']").text()}).join(","));var t=new IMUTrack({region:o("region",e),subject:o("subject",e,"user"),action:o("action",e,"input"),description:o("description",e,"select"),vertical:o("vertical",e),value:i});userManager.track(t)})}function r(e){$(e).click(function(){var i=new IMUTrack({region:o("region",e),subject:o("subject",e,"user"),action:o("action",e,"click"),description:o("description",e,"button"),vertical:o("vertical",e,s($(e).text())),value:o("value",e,$(e).text().trim())});userManager.track(i)})}function c(e){$(e).click(function(){var i=new IMUTrack({region:o("region",e),subject:o("subject",e,"user"),action:o("action",e,"submit"),description:o("description",e,"submit"),vertical:o("vertical",e,s($(e).text())),value:o("value",e,$(e).text())});userManager.track(i)})}function o(e,i,t){var n=$(i).data(e);if(n)return n;var a=$(i).parents("*[data-"+e+"]");return a.length?$(a[0]).data(e):t.charAt(0).toUpperCase()+t.slice(1)}function s(e){e+="";var i=null,t={"home loan":"home loan","personal loan":"personal loan","credit card":"credit card","debit card":"debit card","car loan":"car loan","business loan":"business loan","islamic fixed deposit":"islamic fixed deposit","fixed deposit":"fixed deposit","gold investment":"gold investment","share trading":"share trading","unit trust":"unit trust",retirement:"retirement","medical insurance":"medical insurance","accident insurance":"accident insurance","travel insurance":"travel insurance","mobile plan":"mobile plan",card:"credit card",article:"article","learning centre":"article",infographics:"infographics"};return _.each(t,function(t,n){i||-1!=e.toLowerCase().indexOf(n)&&(i=t)}),i?i:"All"}return{handle:i}};