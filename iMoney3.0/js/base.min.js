/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.1
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */
function FastClick(t,e){"use strict";function n(t,e){return function(){return t.apply(e,arguments)}}var r;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this,a=0,s=o.length;s>a;a++)i[o[a]]=n(i[o[a]],i);deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,r):o.call(t,e,n,r)},t.addEventListener=function(e,n,r){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):o.call(t,e,n,r)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(t){r(t)},!1),t.onclick=null)}}function imuInit(t){return t?void $(t).each(function(){imuHandler().handle(this)}):void $("*[data-imu-track]").each(function(t){var e=$(this).data("imu-track");$(this).find(e).each(function(){imuHandler().handle(this)})})}window.Modernizr=function(t,e,n){function r(t){g.cssText=t}function o(t,e){return r(b.join(t+";")+(e||""))}function i(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var r in t){var o=t[r];if(!a(o,"-")&&g[o]!==n)return"pfx"==e?o:!0}return!1}function c(t,e,r){for(var o in t){var a=e[t[o]];if(a!==n)return r===!1?t[o]:i(a,"function")?a.bind(r||e):a}return!1}function u(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+w.join(r+" ")+r).split(" ");return i(e,"string")||i(e,"undefined")?s(o,e):(o=(t+" "+x.join(r+" ")+r).split(" "),c(o,e,n))}var l="2.8.3",f={},p=!0,h=e.documentElement,d="modernizr",m=e.createElement(d),g=m.style,y,v={}.toString,b=" -webkit- -moz- -o- -ms- ".split(" "),k="Webkit Moz O ms",w=k.split(" "),x=k.toLowerCase().split(" "),C={svg:"http://www.w3.org/2000/svg"},E={},S={},A={},_=[],T=_.slice,j,B={}.hasOwnProperty,O;O=i(B,"undefined")||i(B.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return B.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=T.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=e.prototype;var i=new o,a=e.apply(i,n.concat(T.call(arguments)));return Object(a)===a?a:i}return e.apply(t,n.concat(T.call(arguments)))};return r}),E.cssanimations=function(){return u("animationName")},E.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((t+"-webkit- ".split(" ").join(e+t)+b.join(n+t)).slice(0,-t.length)),a(g.backgroundImage,"gradient")},E.svg=function(){return!!e.createElementNS&&!!e.createElementNS(C.svg,"svg").createSVGRect},E.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==C.svg},E.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(v.call(e.createElementNS(C.svg,"animate")))};for(var N in E)O(E,N)&&(j=N.toLowerCase(),f[j]=E[N](),_.push((f[j]?"":"no-")+j));return f.addTest=function(t,e){if("object"==typeof t)for(var r in t)O(t,r)&&f.addTest(r,t[r]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,"undefined"!=typeof p&&p&&(h.className+=" "+(e?"":"no-")+t),f[t]=e}return f},r(""),m=y=null,function(t,e){function n(t,e){var n=t.createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=g[t[d]];return e||(e={},m++,t[d]=m,g[m]=e),e}function i(t,n,r){if(n||(n=e),y)return n.createElement(t);r||(r=o(n));var i;return i=r.cache[t]?r.cache[t].cloneNode():p.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t),!i.canHaveChildren||f.test(t)||i.tagUrn?i:r.frag.appendChild(i)}function a(t,n){if(t||(t=e),y)return t.createDocumentFragment();n=n||o(t);for(var i=n.frag.cloneNode(),a=0,s=r(),c=s.length;c>a;a++)i.createElement(s[a]);return i}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return v.shivMethods?i(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function c(t){t||(t=e);var r=o(t);return v.shivCSS&&!h&&!r.hasCSS&&(r.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),y||s(t,r),t}var u="3.7.0",l=t.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h,d="_html5shiv",m=0,g={},y;!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",h="hidden"in t,y=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){h=!0,y=!0}}();var v={elements:l.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:l.shivCSS!==!1,supportsUnknownElements:y,shivMethods:l.shivMethods!==!1,type:"default",shivDocument:c,createElement:i,createDocumentFragment:a};t.html5=v,c(e)}(this,e),f._version=l,f._prefixes=b,f._domPrefixes=x,f._cssomPrefixes=w,f.testProp=function(t){return s([t])},f.testAllProps=u,h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+_.join(" "):""),f}(this,this.document),function(t,e,n){function r(t){return"[object Function]"==d.call(t)}function o(t){return"string"==typeof t}function i(){}function a(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=m.shift();g=1,t?t.t?p(function(){("c"==t.t?_.injectCss:_.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),s()):g=0}function c(t,n,r,o,i,c,u){function l(e){if(!d&&a(f.readyState)&&(k.r=d=1,!g&&s(),f.onload=f.onreadystatechange=null,e)){"img"!=t&&p(function(){b.removeChild(f)},50);for(var r in E[n])E[n].hasOwnProperty(r)&&E[n][r].onload()}}var u=u||_.errorTimeout,f=e.createElement(t),d=0,y=0,k={t:r,s:n,e:i,a:c,x:u};1===E[n]&&(y=1,E[n]=[]),"object"==t?f.data=n:(f.src=n,f.type=t),f.width=f.height="0",f.onerror=f.onload=f.onreadystatechange=function(){l.call(this,y)},m.splice(o,0,k),"img"!=t&&(y||2===E[n]?(b.insertBefore(f,v?null:h),p(l,u)):E[n].push(f))}function u(t,e,n,r,i){return g=0,e=e||"j",o(t)?c("c"==e?w:k,t,e,this.i++,n,r,i):(m.splice(this.i++,0,t),1==m.length&&s()),this}function l(){var t=_;return t.loader={load:u,i:0},t}var f=e.documentElement,p=t.setTimeout,h=e.getElementsByTagName("script")[0],d={}.toString,m=[],g=0,y="MozAppearance"in f.style,v=y&&!!e.createRange().compareNode,b=v?f:h.parentNode,f=t.opera&&"[object Opera]"==d.call(t.opera),f=!!e.attachEvent&&!f,k=y?"object":f?"script":"img",w=f?"script":k,x=Array.isArray||function(t){return"[object Array]"==d.call(t)},C=[],E={},S={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}},A,_;_=function(t){function e(t){var t=t.split("!"),e=C.length,n=t.pop(),r=t.length,n={url:n,origUrl:n,prefixes:t},o,i,a;for(i=0;r>i;i++)a=t[i].split("="),(o=S[a.shift()])&&(n=o(n,a));for(i=0;e>i;i++)n=C[i](n);return n}function a(t,o,i,a,s){var c=e(t),u=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(o&&(o=r(o)?o:o[t]||o[a]||o[t.split("/").pop().split("?")[0]]),c.instead?c.instead(t,o,i,a,s):(E[c.url]?c.noexec=!0:E[c.url]=1,i.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(r(o)||r(u))&&i.load(function(){l(),o&&o(c.origUrl,s,a),u&&u(c.origUrl,s,a),E[c.url]=2})))}function s(t,e){function n(t,n){if(t){if(o(t))n||(u=function(){var t=[].slice.call(arguments);l.apply(this,t),f()}),a(t,u,e,0,s);else if(Object(t)===t)for(h in p=function(){var e=0,n;for(n in t)t.hasOwnProperty(n)&&e++;return e}(),t)t.hasOwnProperty(h)&&(!n&&!--p&&(r(u)?u=function(){var t=[].slice.call(arguments);l.apply(this,t),f()}:u[h]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),f()}}(l[h])),a(t[h],u,e,h,s))}else!n&&f()}var s=!!t.test,c=t.load||t.both,u=t.callback||i,l=u,f=t.complete||i,p,h;n(s?t.yep:t.nope,!!c),c&&n(c)}var c,u,f=this.yepnope.loader;if(o(t))a(t,0,f,0);else if(x(t))for(c=0;c<t.length;c++)u=t[c],o(u)?a(u,0,f,0):x(u)?_(u):Object(u)===u&&s(u,f);else Object(t)===t&&s(t,f)},_.addPrefix=function(t,e){S[t]=e},_.addFilter=function(t){C.push(t)},_.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",A=function(){e.removeEventListener("DOMContentLoaded",A,0),e.readyState="complete"},0)),t.yepnope=l(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,n,r,o,c,u){var l=e.createElement("script"),f,d,o=o||_.errorTimeout;l.src=t;for(d in r)l.setAttribute(d,r[d]);n=u?s:n||i,l.onreadystatechange=l.onload=function(){!f&&a(l.readyState)&&(f=1,n(),l.onload=l.onreadystatechange=null)},p(function(){f||(f=1,n(1))},o),c?l.onload():h.parentNode.insertBefore(l,h)},t.yepnope.injectCss=function(t,n,r,o,a,c){var o=e.createElement("link"),u,n=c?s:n||i;o.href=t,o.rel="stylesheet",o.type="text/css";for(u in r)o.setAttribute(u,r[u]);a||(h.parentNode.insertBefore(o,h),p(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],deviceIsIOS){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,n,r,o,i,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(i=t.changedTouches[0],a=document.elementFromPoint(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=a.tagName.toLowerCase(),"label"===r){if(e=this.findControl(a)){if(this.focus(a),deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(a),this.sendClick(a,t),deviceIsIOS&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(o=a.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,window.addEventListener("load",function(){FastClick.attach(document.body)},!1),function(t,e){"use strict";var n=function(t){if("object"!=typeof t.document)throw new Error("Cookies.js requires a `window` with a `document` object");var n=function(t,e,r){return 1===arguments.length?n.get(t):n.set(t,e,r)};return n._document=t.document,n._cacheKeyPrefix="cookey.",n._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),n.defaults={path:"/",secure:!1},n.get=function(t){return n._cachedDocumentCookie!==n._document.cookie&&n._renewCache(),n._cache[n._cacheKeyPrefix+t]},n.set=function(t,r,o){return o=n._getExtendedOptions(o),o.expires=n._getExpiresDate(r===e?-1:o.expires),n._document.cookie=n._generateCookieString(t,r,o),n},n.expire=function(t,r){return n.set(t,e,r)},n._getExtendedOptions=function(t){return{path:t&&t.path||n.defaults.path,domain:t&&t.domain||n.defaults.domain,expires:t&&t.expires||n.defaults.expires,secure:t&&t.secure!==e?t.secure:n.defaults.secure}},n._isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},n._getExpiresDate=function(t,e){if(e=e||new Date,"number"==typeof t?t=1/0===t?n._maxExpireDate:new Date(e.getTime()+1e3*t):"string"==typeof t&&(t=new Date(t)),t&&!n._isValidDate(t))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return t},n._generateCookieString=function(t,e,n){t=t.replace(/[^#$&+\^`|]/g,encodeURIComponent),t=t.replace(/\(/g,"%28").replace(/\)/g,"%29"),e=(e+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=t+"="+e;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},n._getCacheFromString=function(t){for(var r={},o=t?t.split("; "):[],i=0;i<o.length;i++){var a=n._getKeyValuePairFromCookieString(o[i]);r[n._cacheKeyPrefix+a.key]===e&&(r[n._cacheKeyPrefix+a.key]=a.value)}return r},n._getKeyValuePairFromCookieString=function(t){var e=t.indexOf("=");return e=0>e?t.length:e,{key:decodeURIComponent(t.substr(0,e)),value:decodeURIComponent(t.substr(e+1))}},n._renewCache=function(){n._cache=n._getCacheFromString(n._document.cookie),n._cachedDocumentCookie=n._document.cookie},n._areEnabled=function(){var t="cookies.js",e="1"===n.set(t,1).get(t);return n.expire(t),e},n.enabled=n._areEnabled(),n},r="object"==typeof t.document?n(t):n;"function"==typeof define&&define.amd?define(function(){return r}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=r),exports.Cookies=r):t.Cookies=r}("undefined"==typeof window?this:window),function(t){"function"==typeof define&&define.amd?define(t):window.purl=t()}(function(){function t(t,e){for(var n=decodeURI(t),r=m[e?"strict":"loose"].exec(n),o={attr:{},param:{},seg:{}},a=14;a--;)o.attr[h[a]]=r[a]||"";return o.param.query=i(o.attr.query),o.param.fragment=i(o.attr.fragment),o.seg.path=o.attr.path.replace(/^\/+|\/+$/g,"").split("/"),o.seg.fragment=o.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),o.attr.base=o.attr.host?(o.attr.protocol?o.attr.protocol+"://"+o.attr.host:o.attr.host)+(o.attr.port?":"+o.attr.port:""):"",o}function e(t){var e=t.tagName;return"undefined"!=typeof e?p[e.toLowerCase()]:e}function n(t,e){if(0===t[e].length)return t[e]={};var n={};for(var r in t[e])n[r]=t[e][r];return t[e]=n,n}function r(t,e,o,i){var a=t.shift();if(a){var s=e[o]=e[o]||[];"]"==a?u(s)?""!==i&&s.push(i):"object"==typeof s?s[l(s).length]=i:s=e[o]=[e[o],i]:~a.indexOf("]")?(a=a.substr(0,a.length-1),!g.test(a)&&u(s)&&(s=n(e,o)),r(t,s,a,i)):(!g.test(a)&&u(s)&&(s=n(e,o)),r(t,s,a,i))}else u(e[o])?e[o].push(i):e[o]="object"==typeof e[o]?i:"undefined"==typeof e[o]?i:[e[o],i]}function o(t,e,n){if(~e.indexOf("]")){var o=e.split("[");r(o,t,"base",n)}else{if(!g.test(e)&&u(t.base)){var i={};for(var s in t.base)i[s]=t.base[s];t.base=i}""!==e&&a(t.base,e,n)}return t}function i(t){return c(String(t).split(/&|;/),function(t,e){try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(n){}var r=e.indexOf("="),i=s(e),a=e.substr(0,i||r),c=e.substr(i||r,e.length);return c=c.substr(c.indexOf("=")+1,c.length),""===a&&(a=e,c=""),o(t,a,c)},{base:{}}).base}function a(t,e,n){var r=t[e];"undefined"==typeof r?t[e]=n:u(r)?r.push(n):t[e]=[r,n]}function s(t){for(var e=t.length,n,r,o=0;e>o;++o)if(r=t[o],"]"==r&&(n=!1),"["==r&&(n=!0),"="==r&&!n)return o}function c(t,e){for(var n=0,r=t.length>>0,o=arguments[2];r>n;)n in t&&(o=e.call(void 0,o,t[n],n,t)),++n;return o}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function f(e,n){return 1===arguments.length&&e===!0&&(n=!0,e=void 0),n=n||!1,e=e||window.location.toString(),{data:t(e,n),attr:function(t){return t=d[t]||t,"undefined"!=typeof t?this.data.attr[t]:this.data.attr},param:function(t){return"undefined"!=typeof t?this.data.param.query[t]:this.data.param.query},fparam:function(t){return"undefined"!=typeof t?this.data.param.fragment[t]:this.data.param.fragment},segment:function(t){return"undefined"==typeof t?this.data.seg.path:(t=0>t?this.data.seg.path.length+t:t-1,this.data.seg.path[t])},fsegment:function(t){return"undefined"==typeof t?this.data.seg.fragment:(t=0>t?this.data.seg.fragment.length+t:t-1,this.data.seg.fragment[t])}}}var p={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},h=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],d={anchor:"fragment"},m={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},g=/^[0-9]+$/;return f.jQuery=function($){null!=$&&($.fn.url=function(t){var n="";return this.length&&(n=$(this).attr(e(this[0]))||""),f(n,t)},$.url=f)},f.jQuery(window.jQuery),f});var url=purl(),params=url.param(),whitelist=["first_visit","utm_source","utm_campaign","utm_medium","keyword","network","device","devicemodel","placement","type","aid","pa"];Cookies.defaults={path:"/",domain:".imoney.my"};var date=new Date;if(date.setFullYear(date.getFullYear()+5),params.utm_source)for(var key in params){var lowerKey=key.toLowerCase();if(-1!=whitelist.indexOf(lowerKey)){var cookieName="imoney_"+lowerKey;Cookies.set(cookieName,params[key],{expires:date,domain:".imoney.my"})}}else if(Cookies.get("__utmz")){var utm=Cookies.get("__utmz"),utmSplit=utm.split("."),utmData=utmSplit[4];utmData=utmData.replace(/=/g,"='").replace(/\|/g,"';")+"';",eval(utmData),"undefined"!=typeof utmcsr&&(Cookies.set("imoney_utm_source",utmcsr,{expires:date,domain:".imoney.my"}),"undefined"!=typeof utmcmd&&(Cookies.set("imoney_utm_medium",utmcmd,{expires:date,domain:".imoney.my"}),"google"==utmcsr&&"cpc"==utmcmd&&Cookies.set("imoney_utm_source","google (cpc)",{expires:date,domain:".imoney.my"})),"undefined"!=typeof utmccn&&Cookies.set("imoney_utm_campaign",utmccn,{expires:date,domain:".imoney.my"})),"undefined"!=typeof utmctr&&Cookies.set("imoney_keyword",utmctr,{expires:date,domain:".imoney.my"}),"undefined"!=typeof utmcct&&Cookies.set("imoney_type",utmcct,{expires:date,domain:".imoney.my"})}if(!Cookies.get("imoney_first_visit")){var date=new Date;date.setFullYear(date.getFullYear()+5),Cookies.set("imoney_first_visit",Math.round((new Date).getTime()/1e3),{expires:date,domain:".imoney.my"})}!function(t){function e(){try{return i in t&&t[i]}catch(e){return!1}}function n(t){return t.replace(/^d/,"___$&").replace(p,"___")}var r={},o=t.document,i="localStorage",a="script",s;if(r.disabled=!1,r.version="1.3.17",r.set=function(t,e){},r.get=function(t,e){},r.has=function(t){return void 0!==r.get(t)},r.remove=function(t){},r.clear=function(){},r.transact=function(t,e,n){null==n&&(n=e,e=null),null==e&&(e={});var o=r.get(t,e);n(o),r.set(t,o)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(t){return JSON.stringify(t)},r.deserialize=function(t){if("string"!=typeof t)return void 0;try{return JSON.parse(t)}catch(e){return t||void 0}},e())s=t[i],r.set=function(t,e){return void 0===e?r.remove(t):(s.setItem(t,r.serialize(e)),e)},r.get=function(t,e){var n=r.deserialize(s.getItem(t));return void 0===n?e:n},r.remove=function(t){s.removeItem(t)},r.clear=function(){s.clear()},r.getAll=function(){var t={};return r.forEach(function(e,n){t[e]=n}),t},r.forEach=function(t){for(var e=0;e<s.length;e++){var n=s.key(e);t(n,r.get(n))}};else if(o.documentElement.addBehavior){var c,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+a+">document.w=window</"+a+'><iframe src="/favicon.ico"></iframe>'),u.close(),c=u.w.frames[0].document,s=c.createElement("div")}catch(l){s=o.createElement("div"),c=o.body}var f=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(s),c.appendChild(s),s.addBehavior("#default#userData"),s.load(i);var n=t.apply(r,e);return c.removeChild(s),n}},p=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");r.set=f(function(t,e,o){return e=n(e),void 0===o?r.remove(e):(t.setAttribute(e,r.serialize(o)),t.save(i),o)}),r.get=f(function(t,e,o){e=n(e);var i=r.deserialize(t.getAttribute(e));return void 0===i?o:i}),r.remove=f(function(t,e){e=n(e),t.removeAttribute(e),t.save(i)}),r.clear=f(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(i);for(var n=0,r;r=e[n];n++)t.removeAttribute(r.name);t.save(i)}),r.getAll=function(t){var e={};return r.forEach(function(t,n){e[t]=n}),e},r.forEach=f(function(t,e){for(var n=t.XMLDocument.documentElement.attributes,o=0,i;i=n[o];++o)e(i.name,r.deserialize(t.getAttribute(i.name)))})}try{var h="__storejs__";r.set(h,h),r.get(h)!=h&&(r.disabled=!0),r.remove(h)}catch(l){r.disabled=!0}r.enabled=!r.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=r:"function"==typeof define&&define.amd?define(r):t.store=r}(Function("return this")()),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return s.raw?t:encodeURIComponent(t)}function n(t){return s.raw?t:decodeURIComponent(t)}function r(t){return e(s.json?JSON.stringify(t):String(t))}function o(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),s.json?JSON.parse(t):t}catch(e){}}function i(e,n){var r=s.raw?e:o(e);return t.isFunction(n)?n(r):r}var a=/\+/g,s=t.cookie=function(o,a,c){if(void 0!==a&&!t.isFunction(a)){if(c=t.extend({},s.defaults,c),"number"==typeof c.expires){var u=c.expires,l=c.expires=new Date;l.setTime(+l+864e5*u)}return document.cookie=[e(o),"=",r(a),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var f=o?void 0:{},p=document.cookie?document.cookie.split("; "):[],h=0,d=p.length;d>h;h++){var m=p[h].split("="),g=n(m.shift()),y=m.join("=");if(o&&o===g){f=i(y,a);break}o||void 0===(y=i(y))||(f[g]=y)}return f};s.defaults={},t.removeCookie=function(e,n){return void 0===t.cookie(e)?!1:(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),function(){var t=this,e=t._,n=Array.prototype,r=Object.prototype,o=Function.prototype,i=n.push,a=n.slice,s=n.concat,c=r.toString,u=r.hasOwnProperty,l=Array.isArray,f=Object.keys,p=o.bind,h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):t._=h,h.VERSION="1.7.0";var d=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}};h.iteratee=function(t,e,n){return null==t?h.identity:h.isFunction(t)?d(t,e,n):h.isObject(t)?h.matches(t):h.property(t)},h.each=h.forEach=function(t,e,n){if(null==t)return t;e=d(e,n);var r,o=t.length;if(o===+o)for(r=0;o>r;r++)e(t[r],r,t);else{var i=h.keys(t);for(r=0,o=i.length;o>r;r++)e(t[i[r]],i[r],t)}return t},h.map=h.collect=function(t,e,n){if(null==t)return[];e=h.iteratee(e,n);for(var r,o=t.length!==+t.length&&h.keys(t),i=(o||t).length,a=Array(i),s=0;i>s;s++)r=o?o[s]:s,a[s]=e(t[r],r,t);return a};var m="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(t,e,n,r){null==t&&(t=[]),e=d(e,r,4);var o,i=t.length!==+t.length&&h.keys(t),a=(i||t).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(m);n=t[i?i[s++]:s++]}for(;a>s;s++)o=i?i[s]:s,n=e(n,t[o],o,t);return n},h.reduceRight=h.foldr=function(t,e,n,r){null==t&&(t=[]),e=d(e,r,4);var o,i=t.length!==+t.length&&h.keys(t),a=(i||t).length;if(arguments.length<3){if(!a)throw new TypeError(m);n=t[i?i[--a]:--a]}for(;a--;)o=i?i[a]:a,n=e(n,t[o],o,t);return n},h.find=h.detect=function(t,e,n){var r;return e=h.iteratee(e,n),h.some(t,function(t,n,o){return e(t,n,o)?(r=t,!0):void 0}),r},h.filter=h.select=function(t,e,n){var r=[];return null==t?r:(e=h.iteratee(e,n),h.each(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r)},h.reject=function(t,e,n){return h.filter(t,h.negate(h.iteratee(e)),n)},h.every=h.all=function(t,e,n){if(null==t)return!0;e=h.iteratee(e,n);var r,o,i=t.length!==+t.length&&h.keys(t),a=(i||t).length;for(r=0;a>r;r++)if(o=i?i[r]:r,!e(t[o],o,t))return!1;return!0},h.some=h.any=function(t,e,n){if(null==t)return!1;e=h.iteratee(e,n);var r,o,i=t.length!==+t.length&&h.keys(t),a=(i||t).length;for(r=0;a>r;r++)if(o=i?i[r]:r,e(t[o],o,t))return!0;return!1},h.contains=h.include=function(t,e){return null==t?!1:(t.length!==+t.length&&(t=h.values(t)),h.indexOf(t,e)>=0)},h.invoke=function(t,e){var n=a.call(arguments,2),r=h.isFunction(e);return h.map(t,function(t){return(r?e:t[e]).apply(t,n)})},h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matches(e))},h.findWhere=function(t,e){return h.find(t,h.matches(e))},h.max=function(t,e,n){var r,o,i=-1/0,a=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:h.values(t);for(var s=0,c=t.length;c>s;s++)r=t[s],r>i&&(i=r)}else e=h.iteratee(e,n),h.each(t,function(t,n,r){o=e(t,n,r),(o>a||o===-1/0&&i===-1/0)&&(i=t,a=o)});return i},h.min=function(t,e,n){var r,o,i=1/0,a=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:h.values(t);for(var s=0,c=t.length;c>s;s++)r=t[s],i>r&&(i=r)}else e=h.iteratee(e,n),h.each(t,function(t,n,r){o=e(t,n,r),(a>o||1/0===o&&1/0===i)&&(i=t,a=o)});return i},h.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:h.values(t),r=n.length,o=Array(r),i=0;r>i;i++)e=h.random(0,i),e!==i&&(o[i]=o[e]),o[e]=n[i];return o},h.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=h.values(t)),t[h.random(t.length-1)]):h.shuffle(t).slice(0,Math.max(0,e))},h.sortBy=function(t,e,n){return e=h.iteratee(e,n),h.pluck(h.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1
}return t.index-e.index}),"value")};var g=function(t){return function(e,n,r){var o={};return n=h.iteratee(n,r),h.each(e,function(r,i){var a=n(r,i,e);t(o,r,a)}),o}};h.groupBy=g(function(t,e,n){h.has(t,n)?t[n].push(e):t[n]=[e]}),h.indexBy=g(function(t,e,n){t[n]=e}),h.countBy=g(function(t,e,n){h.has(t,n)?t[n]++:t[n]=1}),h.sortedIndex=function(t,e,n,r){n=h.iteratee(n,r,1);for(var o=n(e),i=0,a=t.length;a>i;){var s=i+a>>>1;n(t[s])<o?i=s+1:a=s}return i},h.toArray=function(t){return t?h.isArray(t)?a.call(t):t.length===+t.length?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:t.length===+t.length?t.length:h.keys(t).length},h.partition=function(t,e,n){e=h.iteratee(e,n);var r=[],o=[];return h.each(t,function(t,n,i){(e(t,n,i)?r:o).push(t)}),[r,o]},h.first=h.head=h.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:a.call(t,0,e)},h.initial=function(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},h.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},h.rest=h.tail=h.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},h.compact=function(t){return h.filter(t,h.identity)};var y=function(t,e,n,r){if(e&&h.every(t,h.isArray))return s.apply(r,t);for(var o=0,a=t.length;a>o;o++){var c=t[o];h.isArray(c)||h.isArguments(c)?e?i.apply(r,c):y(c,e,n,r):n||r.push(c)}return r};h.flatten=function(t,e){return y(t,e,!1,[])},h.without=function(t){return h.difference(t,a.call(arguments,1))},h.uniq=h.unique=function(t,e,n,r){if(null==t)return[];h.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=h.iteratee(n,r));for(var o=[],i=[],a=0,s=t.length;s>a;a++){var c=t[a];if(e)a&&i===c||o.push(c),i=c;else if(n){var u=n(c,a,t);h.indexOf(i,u)<0&&(i.push(u),o.push(c))}else h.indexOf(o,c)<0&&o.push(c)}return o},h.union=function(){return h.uniq(y(arguments,!0,!0,[]))},h.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,r=0,o=t.length;o>r;r++){var i=t[r];if(!h.contains(e,i)){for(var a=1;n>a&&h.contains(arguments[a],i);a++);a===n&&e.push(i)}}return e},h.difference=function(t){var e=y(a.call(arguments,1),!0,!0,[]);return h.filter(t,function(t){return!h.contains(e,t)})},h.zip=function(t){if(null==t)return[];for(var e=h.max(arguments,"length").length,n=Array(e),r=0;e>r;r++)n[r]=h.pluck(arguments,r);return n},h.object=function(t,e){if(null==t)return{};for(var n={},r=0,o=t.length;o>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},h.indexOf=function(t,e,n){if(null==t)return-1;var r=0,o=t.length;if(n){if("number"!=typeof n)return r=h.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,o+n):n}for(;o>r;r++)if(t[r]===e)return r;return-1},h.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=t.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(t[r]===e)return r;return-1},h.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;r>i;i++,t+=n)o[i]=t;return o};var v=function(){};h.bind=function(t,e){var n,r;if(p&&t.bind===p)return p.apply(t,a.call(arguments,1));if(!h.isFunction(t))throw new TypeError("Bind must be called on a function");return n=a.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(a.call(arguments)));v.prototype=t.prototype;var o=new v;v.prototype=null;var i=t.apply(o,n.concat(a.call(arguments)));return h.isObject(i)?i:o}},h.partial=function(t){var e=a.call(arguments,1);return function(){for(var n=0,r=e.slice(),o=0,i=r.length;i>o;o++)r[o]===h&&(r[o]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},h.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=h.bind(t[n],t);return t},h.memoize=function(t,e){var n=function(r){var o=n.cache,i=e?e.apply(this,arguments):r;return h.has(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n},h.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},h.defer=function(t){return h.delay.apply(h,[t,1].concat(a.call(arguments,1)))},h.throttle=function(t,e,n){var r,o,i,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:h.now(),a=null,i=t.apply(r,o),a||(r=o=null)};return function(){var u=h.now();s||n.leading!==!1||(s=u);var l=e-(u-s);return r=this,o=arguments,0>=l||l>e?(clearTimeout(a),a=null,s=u,i=t.apply(r,o),a||(r=o=null)):a||n.trailing===!1||(a=setTimeout(c,l)),i}},h.debounce=function(t,e,n){var r,o,i,a,s,c=function(){var u=h.now()-a;e>u&&u>0?r=setTimeout(c,e-u):(r=null,n||(s=t.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=h.now();var u=n&&!r;return r||(r=setTimeout(c,e)),u&&(s=t.apply(i,o),i=o=null),s}},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},h.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},h.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},h.once=h.partial(h.before,2),h.keys=function(t){if(!h.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)h.has(t,n)&&e.push(n);return e},h.values=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),o=0;n>o;o++)r[o]=t[e[o]];return r},h.pairs=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),o=0;n>o;o++)r[o]=[e[o],t[e[o]]];return r},h.invert=function(t){for(var e={},n=h.keys(t),r=0,o=n.length;o>r;r++)e[t[n[r]]]=n[r];return e},h.functions=h.methods=function(t){var e=[];for(var n in t)h.isFunction(t[n])&&e.push(n);return e.sort()},h.extend=function(t){if(!h.isObject(t))return t;for(var e,n,r=1,o=arguments.length;o>r;r++){e=arguments[r];for(n in e)u.call(e,n)&&(t[n]=e[n])}return t},h.pick=function(t,e,n){var r,o={};if(null==t)return o;if(h.isFunction(e)){e=d(e,n);for(r in t){var i=t[r];e(i,r,t)&&(o[r]=i)}}else{var c=s.apply([],a.call(arguments,1));t=new Object(t);for(var u=0,l=c.length;l>u;u++)r=c[u],r in t&&(o[r]=t[r])}return o},h.omit=function(t,e,n){if(h.isFunction(e))e=h.negate(e);else{var r=h.map(s.apply([],a.call(arguments,1)),String);e=function(t,e){return!h.contains(r,e)}}return h.pick(t,e,n)},h.defaults=function(t){if(!h.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var r=arguments[e];for(var o in r)void 0===t[o]&&(t[o]=r[o])}return t},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t};var b=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var o=c.call(t);if(o!==c.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var i=n.length;i--;)if(n[i]===t)return r[i]===e;var a=t.constructor,s=e.constructor;if(a!==s&&"constructor"in t&&"constructor"in e&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(s)&&s instanceof s))return!1;n.push(t),r.push(e);var u,l;if("[object Array]"===o){if(u=t.length,l=u===e.length)for(;u--&&(l=b(t[u],e[u],n,r)););}else{var f,p=h.keys(t);if(u=p.length,l=h.keys(e).length===u)for(;u--&&(f=p[u],l=h.has(e,f)&&b(t[f],e[f],n,r)););}return n.pop(),r.pop(),l};h.isEqual=function(t,e){return b(t,e,[],[])},h.isEmpty=function(t){if(null==t)return!0;if(h.isArray(t)||h.isString(t)||h.isArguments(t))return 0===t.length;for(var e in t)if(h.has(t,e))return!1;return!0},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=l||function(t){return"[object Array]"===c.call(t)},h.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){h["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),h.isArguments(arguments)||(h.isArguments=function(t){return h.has(t,"callee")}),"function"!=typeof/./&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&t!==+t},h.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===c.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){return null!=t&&u.call(t,e)},h.noConflict=function(){return t._=e,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(t){return function(e){return e[t]}},h.matches=function(t){var e=h.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var r=0;n>r;r++){var o=e[r],i=o[0];if(o[1]!==t[i]||!(i in t))return!1}return!0}},h.times=function(t,e,n){var r=Array(Math.max(0,t));e=d(e,n,1);for(var o=0;t>o;o++)r[o]=e(o);return r},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w=h.invert(k),x=function(t){var e=function(e){return t[e]},n="(?:"+h.keys(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}};h.escape=x(k),h.unescape=x(w),h.result=function(t,e){if(null==t)return void 0;var n=t[e];return h.isFunction(n)?t[e]():n};var C=0;h.uniqueId=function(t){var e=++C+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,S={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},A=/\\|'|\r|\n|\u2028|\u2029/g,_=function(t){return"\\"+S[t]};h.template=function(t,e,n){!e&&n&&(e=n),e=h.defaults({},e,h.templateSettings);var r=RegExp([(e.escape||E).source,(e.interpolate||E).source,(e.evaluate||E).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,function(e,n,r,a,s){return i+=t.slice(o,s).replace(A,_),o=s+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(e.variable||"obj","_",i)}catch(s){throw s.source=i,s}var c=function(t){return a.call(this,t,h)},u=e.variable||"obj";return c.source="function("+u+"){\n"+i+"}",c},h.chain=function(t){var e=h(t);return e._chain=!0,e};var T=function(t){return this._chain?h(t).chain():t};h.mixin=function(t){h.each(h.functions(t),function(e){var n=h[e]=t[e];h.prototype[e]=function(){var t=[this._wrapped];return i.apply(t,arguments),T.call(this,n.apply(h,t))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];h.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],T.call(this,n)}}),h.each(["concat","join","slice"],function(t){var e=n[t];h.prototype[t]=function(){return T.call(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this);var socketManager={socket:null,init:function(){this.socket=io.connect("https://im.imoney.my")}},IMUTrack=function(t){var e=this;this.timestamp=(new Date).getTime(),this.language=jQuery("html").attr("lang"),this.url=window.location.href,this.useragent=navigator.userAgent,this.synced=!1,_.each(t,function(t,n){e[n]=t})},IMUTrackFactory=function(){var t="imu";return{getAll:function(){return store.get(t)},getAllUnsynced:function(){return _.where(this.getAll(),{synced:!1})},setIsSynced:function(e,n){var r=this.getAll();_.each(r,function(t,o){t.timestamp==e&&(r[o].synced=n)}),store.set(t,r),this.removeSynced()},add:function(e){var n=this.getAll()||[];n.push(e),store.set(t,n)},removeSynced:function(e){list=e?_.reject(this.getAll(),function(t){return t.timestamp==e}):_.reject(this.getAll(),function(t){return 1==t.synced}),store.set(t,list)}}}(),userManager={data:{id:null,tracks:IMUTrackFactory.getAllUnsynced()},init:function(){this.data.id=jQuery.cookie("userId")},identifyUser:function(){var t=this;this.data.keywords=this.getPageKeywords(),socketManager.socket.json.send({type:"track",data:t.data})},setUser:function(t){this.data=t,jQuery.cookie("userId",this.data.id,{expires:365,path:"/"})},getPageKeywords:function(){var t=[];return jQuery('meta[name="keywords"]')&&jQuery('meta[name="keywords"]').attr("content")&&(t=jQuery('meta[name="keywords"]').attr("content").split(",")),t},track:function(t){"undefined"==typeof this.data.tracks&&(this.data.tracks=[]),this.data.tracks.push(t),IMUTrackFactory.add(t),socketManager.socket.json.send({type:"track",data:this.data}),console.log({region:t.region,vertical:t.vertical,action:t.action,value:t.value})}};jQuery(function(){"use strict";socketManager.init(),userManager.init(),socketManager.socket.on("connect",function(){var t=new IMUTrack({action:"user-visit"});userManager.track(t),socketManager.socket.on("track",function(t){t&&(userManager.setUser(t),_.each(t.synced,function(t,e){IMUTrackFactory.setIsSynced(t,!0)}))}),socketManager.socket.on("disconnect",function(){console.log("Disconnected from IMU")})}),$("select.imu-track").change(function(){if("undefined"!=typeof userManager){var t=new IMUTrack({region:$(this).data("region"),action:$(this).data("action"),vertical:$(this).data("vertical"),value:$(this).val()});userManager.track(t)}}),$("button.imu-track, a.imu-track").click(function(){imuTrackEvent.apply(this,arguments)}),$("input.imu-track[type=text]").blur(function(){imuTrackEvent.apply(this,arguments)}),imuInit();var imuTrackEvent=function(){if("undefined"!=typeof userManager){var dataval=$(this).data("value");dataval.length>0&&"$"==dataval.charAt(0)&&(dataval=eval(dataval));var imuTrack=new IMUTrack({region:$(this).data("region"),action:$(this).data("action"),vertical:$(this).data("vertical"),value:dataval});userManager.track(imuTrack)}}});var imuHandler=function(t){"use strict";function e(t){return $(t).is(":checkbox")?n(t):$(t).is(":radio")?n(t):$(t).is(":submit")?a(t):$(t).is(":button")?i(t):$(t).is("a")?i(t):$(t).is("select")?o(t):$(t).attr("type")&&$(t).is(":input")&&-1!==["text","email","tel"].indexOf($(t).attr("type").toLowerCase())?r(t):void 0}function n(t){$(t).change(function(){var e=new IMUTrack({region:s("region",t),action:s("action",t,$(t).is(":checked")?"user-click":"user-unclick"),vertical:s("vertical",t),value:s("value",t,$(t).val())});userManager.track(e)})}function r(t){$(t).blur(function(){var e=new IMUTrack({region:s("region",t),action:s("action",t,"user-input"),vertical:s("vertical",t),value:$(t).val()});userManager.track(e)})}function o(t){$(t).change(function(){var e=new IMUTrack({region:s("region",t),action:s("action",t,"user-input"),vertical:s("vertical",t),value:$(t).val()});userManager.track(e)})}function i(t){$(t).click(function(){var e=new IMUTrack({region:s("region",t),action:s("action",t,"user-click"),vertical:s("vertical",t,c($(t).text())),value:s("value",t,$(t).text().trim())});userManager.track(e)})}function a(t){$(t).click(function(){var e=new IMUTrack({region:s("region",t),action:s("action",t,"user-submit"),vertical:s("vertical",t,c($(t).text())),value:s("value",t,$(t).text())});userManager.track(e)})}function s(t,e,n){var r=$(e).data(t);if(r)return r;var o=$(e).parents("*[data-"+t+"]");return o.length?$(o[0]).data(t):n}function c(t){t+="";var e=null,n={"home loan":"home loan","personal loan":"personal loan","credit card":"credit card","debit card":"debit card","car loan":"car loan","business loan":"business loan","islamic fixed deposit":"islamic fixed deposit","fixed deposit":"fixed deposit","gold investment":"gold investment","share trading":"share trading","unit trust":"unit trust",retirement:"retirement","medical insurance":"medical insurance","accident insurance":"accident insurance","travel insurance":"travel insurance","mobile plan":"mobile plan",card:"credit card",article:"article","learning centre":"article",infographics:"infographics"};return _.each(n,function(n,r){e||-1!=t.toLowerCase().indexOf(r)&&(e=n)}),e?e:"All"}return{handle:e}};!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.io=t()}}(function(){var t,e,n;return function r(t,e,n){function o(a,s){if(!e[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=e[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,r,t,e,n)}return e[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e,n){function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n=o(t),r=n.source,i=n.id,u;return e.forceNew||e["force new connection"]||!1===e.multiplex?(s("ignoring socket cache for %s",r),u=a(r,e)):(c[i]||(s("new io instance for %s",r),c[i]=a(r,e)),u=c[i]),u.socket(n.path)}var o=t("./url"),i=t("socket.io-parser"),a=t("./manager"),s=t("debug")("socket.io-client");e.exports=n=r;var c=n.managers={};n.protocol=i.protocol,n.connect=r,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":43}],3:[function(t,e,n){function r(t,e){return this instanceof r?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=[],this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new c.Encoder,this.decoder=new c.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(t,e)}var o=t("./url"),i=t("engine.io-client"),a=t("./socket"),s=t("component-emitter"),c=t("socket.io-parser"),u=t("./on"),l=t("component-bind"),f=t("object-component"),p=t("debug")("socket.io-client:manager"),h=t("indexof");e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},s(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this):this._reconnectionDelay},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())},r.prototype.open=r.prototype.connect=function(t){if(p("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;p("opening %s",this.uri),this.engine=i(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=u(e,"open",function(){n.onopen(),t&&t()}),o=u(e,"error",function(e){if(p("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;p("connect attempt will timeout after %d",a);var s=setTimeout(function(){p("connect attempt timed out after %d",a),r.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(o),this},r.prototype.onopen=function(){p("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",l(this,"ondata"))),this.subs.push(u(this.decoder,"decoded",l(this,"ondecoded"))),this.subs.push(u(t,"error",l(this,"onerror"))),this.subs.push(u(t,"close",l(this,"onclose")))},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){p("error",t),this.emitAll("error",t)},r.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new a(this,t),this.nsps[t]=e;var n=this;e.on("connect",function(){~h(n.connected,e)||n.connected.push(e)})}return e},r.prototype.destroy=function(t){var e=h(this.connected,t);~e&&this.connected.splice(e,1),this.connected.length||this.close()},r.prototype.packet=function(t){p("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var n=0;n<t.length;n++)e.engine.write(t[n]);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){p("close"),this.cleanup(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)p("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.attempts*this.reconnectionDelay();e=Math.min(e,this.reconnectionDelayMax()),p("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(p("attempting reconnect"),t.emitAll("reconnect_attempt",t.attempts),t.emitAll("reconnecting",t.attempts),t.skipReconnect||t.open(function(e){e?(p("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(p("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",t)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:39,"object-component":40,"socket.io-parser":43}],4:[function(t,e,n){function r(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=r},{}],5:[function(t,e,n){function r(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var o=t("socket.io-parser"),i=t("component-emitter"),a=t("to-array"),s=t("./on"),c=t("component-bind"),u=t("debug")("socket.io-client:socket"),l=t("has-binary");e.exports=n=r;var f={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},p=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",c(this,"onopen")),s(t,"packet",c(this,"onpacket")),s(t,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},r.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(f.hasOwnProperty(t))return p.apply(this,arguments),this;var e=a(arguments),n=o.EVENT;l(e)&&(n=o.BINARY_EVENT);var r={type:n,data:e};return"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},r.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,this.emit("disconnect",t)},r.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(t);break;case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:this.onack(t);break;case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);u("sending ack %j",r);var i=l(r)?o.BINARY_ACK:o.ACK;e.packet({type:i,id:t,data:r})}}},r.prototype.onack=function(t){u("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":35,"socket.io-parser":43,"to-array":47}],6:[function(t,e,n){(function(n){function r(t,e){var r=t,e=e||n.location;return null==t&&(t=e.protocol+"//"+e.hostname),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.hostname+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),r=o(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/",r.id=r.protocol+"://"+r.host+":"+r.port,r.href=r.protocol+"://"+r.host+(e&&e.port==r.port?"":":"+r.port),r}var o=t("parseuri"),i=t("debug")("socket.io-client:url");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:9,parseuri:41}],7:[function(t,e,n){var r=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},{}],8:[function(t,e,n){function r(t){return t?o(t):void 0}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],9:[function(t,e,n){function r(t){return r.enabled(t)?function(e){e=o(e);var n=new Date,i=n-(r[t]||n);r[t]=n,e=t+" "+e+" +"+r.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(t){return t instanceof Error?t.stack||t.message:t}e.exports=r,r.names=[],r.skips=[],r.enable=function(t){try{localStorage.debug=t}catch(e){}for(var n=(t||"").split(/[\s,]+/),o=n.length,i=0;o>i;i++)t=n[i].replace("*",".*?"),"-"===t[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$"))},r.disable=function(){r.enable("")},r.humanize=function(t){var e=1e3,n=6e4,r=60*n;return t>=r?(t/r).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},r.enabled=function(t){for(var e=0,n=r.skips.length;n>e;e++)if(r.skips[e].test(t))return!1;for(var e=0,n=r.names.length;n>e;e++)if(r.names[e].test(t))return!0;return!1};try{window.localStorage&&r.enable(localStorage.debug)}catch(i){}},{}],10:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":11}],11:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":12,"engine.io-parser":24}],12:[function(t,e,n){(function(n){function r(){}function o(t,e){if(!(this instanceof o))return new o(t,e);if(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t&&(t=f(t),e.host=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.host){var r=e.host.split(":");e.hostname=r.shift(),r.length&&(e.port=r.pop())}this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades}function i(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var a=t("./transports"),s=t("component-emitter"),c=t("debug")("engine.io-client:socket"),u=t("indexof"),l=t("engine.io-parser"),f=t("parseuri"),p=t("parsejson"),h=t("parseqs");e.exports=o,o.priorWebsocketSuccess=!1,s(o.prototype),o.protocol=l.protocol,o.Socket=o,o.Transport=t("./transport"),o.transports=t("./transports"),o.parser=t("engine.io-parser"),o.prototype.createTransport=function(t){c('creating transport "%s"',t);var e=i(this.query);e.EIO=l.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=new a[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});
return n},o.prototype.open=function(){var t;if(this.rememberUpgrade&&o.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0==this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";var t;try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},o.prototype.setTransport=function(t){c("setting transport %s",t.name);var e=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},o.prototype.probe=function(t){function e(){if(p.onlyBinaryUpgrades){var e=!this.supportsBinary&&p.transport.supportsBinary;f=f||e}f||(c('probe transport "%s" opened',t),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){if(!f)if("pong"==e.type&&"probe"==e.data){if(c('probe transport "%s" pong',t),p.upgrading=!0,p.emit("upgrading",l),!l)return;o.priorWebsocketSuccess="websocket"==l.name,c('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){f||"closed"!=p.readyState&&(c("changing transport and sending upgrade packet"),u(),p.setTransport(l),l.send([{type:"upgrade"}]),p.emit("upgrade",l),l=null,p.upgrading=!1,p.flush())})}else{c('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=l.name,p.emit("upgradeError",n)}}))}function n(){f||(f=!0,u(),l.close(),l=null)}function r(e){var r=new Error("probe error: "+e);r.transport=l.name,n(),c('probe transport "%s" failed because of error: %s',t,e),p.emit("upgradeError",r)}function i(){r("transport closed")}function a(){r("socket closed")}function s(t){l&&t.name!=l.name&&(c('"%s" works - aborting "%s"',t.name,l.name),n())}function u(){l.removeListener("open",e),l.removeListener("error",r),l.removeListener("close",i),p.removeListener("close",a),p.removeListener("upgrading",s)}c('probing transport "%s"',t);var l=this.createTransport(t,{probe:1}),f=!1,p=this;o.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",r),l.once("close",i),this.once("close",a),this.once("upgrading",s),l.open()},o.prototype.onOpen=function(){if(c("socket open"),this.readyState="open",o.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])}},o.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(c('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(p(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else c('packet received with socket readyState "%s"',this.readyState)},o.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},o.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},o.prototype.ping=function(){this.sendPacket("ping")},o.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},o.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o.prototype.write=o.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},o.prototype.sendPacket=function(t,e,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var r={type:t,data:e};this.emit("packetCreate",r),this.writeBuffer.push(r),this.callbackBuffer.push(n),this.flush()}},o.prototype.close=function(){function t(){r.onClose("forced close"),c("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},o.prototype.onError=function(t){c("socket error %j",t),o.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},o.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){c('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},o.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;r>n;n++)~u(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:21,"engine.io-parser":24,indexof:39,parsejson:31,parseqs:32,parseuri:33}],13:[function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR}var o=t("engine.io-parser"),i=t("component-emitter");e.exports=r,i(r.prototype),r.timestamps=0,r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":24}],14:[function(t,e,n){(function(e){function r(t){var n,r=!1,s=!1,c=!1!==t.jsonp;if(e.location){var u="https:"==location.protocol,l=location.port;l||(l=u?443:80),r=t.hostname!=location.hostname||l!=t.port,s=t.secure!=u}if(t.xdomain=r,t.xscheme=s,n=new o(t),"open"in n&&!t.forceJSONP)return new i(t);if(!c)throw new Error("JSONP disabled");return new a(t)}var o=t("xmlhttprequest"),i=t("./polling-xhr"),a=t("./polling-jsonp"),s=t("./websocket");n.polling=r,n.websocket=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(t,e,n){(function(n){function r(){}function o(t){i.call(this,t),this.query=this.query||{},u||(n.___eio||(n.___eio=[]),u=n.___eio),this.index=u.length;var e=this;u.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=r)},!1)}var i=t("./polling"),a=t("component-inherit");e.exports=o;var s=/\n/g,c=/\\n/g,u,l=0;a(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),this.script=e;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';l=document.createElement(e)}catch(t){l=document.createElement("iframe"),l.name=o.iframeId,l.src="javascript:0"}l.id=o.iframeId,o.form.appendChild(l),o.iframe=l}var o=this;if(!this.form){var i=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index,l;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}this.form.action=this.uri(),r(),t=t.replace(c,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(f){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(t,e,n){(function(n){function r(){}function o(t){if(c.call(this,t),n.location){var e="https:"==location.protocol,r=location.port;r||(r=e?443:80),this.xd=t.hostname!=n.location.hostname||r!=t.port,this.xs=t.secure!=e}}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.create()}function a(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var s=t("xmlhttprequest"),c=t("./polling"),u=t("component-emitter"),l=t("component-inherit"),f=t("debug")("engine.io-client:polling-xhr");e.exports=o,e.exports.Request=i,l(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,new i(t)},o.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},o.prototype.doPoll=function(){f("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(i.prototype),i.prototype.create=function(){var t=this.xhr=new s({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),e=this;try{if(f("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){e.onLoad()},t.onerror=function(){e.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?e.onLoad():setTimeout(function(){e.onError(t.status)},0))},f("xhr data %s",this.data),t.send(this.data)}catch(r){return void setTimeout(function(){e.onError(r)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup()},i.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r;try{this.xhr.abort()}catch(t){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}t="application/octet-stream"===e?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",a):n.addEventListener&&n.addEventListener("beforeunload",a,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:21,xmlhttprequest:19}],17:[function(t,e,n){function r(t){var e=t&&t.forceBase64;(!u||e)&&(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),i=t("parseqs"),a=t("engine.io-parser"),s=t("component-inherit"),c=t("debug")("engine.io-client:polling");e.exports=r;var u=function(){var e=t("xmlhttprequest"),n=new e({xdomain:!1});return null!=n.responseType}();s(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){c("paused"),r.readyState="paused",t()}var n=0,r=this;if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(c("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){c("pre-pause polling complete"),--o||e()})),this.writable||(c("we are currently writing - waiting to pause"),o++,this.once("drain",function(){c("pre-pause writing complete"),--o||e()}))}else e()},r.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;c("polling got data %s",t);var n=function(t,n,r){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};a.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){c("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;a.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+o.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,xmlhttprequest:19}],18:[function(t,e,n){function r(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),i=t("engine.io-parser"),a=t("parseqs"),s=t("component-inherit"),c=t("debug")("engine.io-client:websocket"),u=t("ws");e.exports=r,s(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this,e=this.uri(),n=void 0,r={agent:this.agent};this.ws=new u(e,n,r),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(t){var e=this;setTimeout(function(){o.prototype.onData.call(e,t)},0)}),r.prototype.write=function(t){function e(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var r=0,o=t.length;o>r;r++)i.encodePacket(t[r],this.supportsBinary,function(t){try{n.ws.send(t)}catch(e){c("websocket closed before onclose event")}});setTimeout(e,0)},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t},r.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===r.prototype.name)}},{"../transport":13,"component-inherit":20,debug:21,"engine.io-parser":24,parseqs:32,ws:34}],19:[function(t,e,n){var r=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(i){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}},{"has-cors":37}],20:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],21:[function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r),t}function i(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?localStorage.removeItem("debug"):localStorage.debug=t}catch(e){}}function s(){var t;try{t=localStorage.debug}catch(e){}return t}n=e.exports=t("./debug"),n.log=i,n.formatArgs=o,n.save=a,n.load=s,n.useColors=r,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(s())},{"./debug":22}],22:[function(t,e,n){function r(){return n.colors[u++%n.colors.length]}function o(t){function e(){}function o(){var t=o,e=+new Date,i=e-(l||e);t.diff=i,t.prev=l,t.curr=e,l=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(e,r){if("%"===e)return e;s++;var o=n.formatters[r];if("function"==typeof o){var i=a[s];e=o.call(t,i),a.splice(s,1),s--}return e}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(t,a));var c=o.log||n.log||console.log.bind(console);c.apply(t,a)}e.enabled=!1,o.enabled=!0;var i=n.enabled(t)?o:e;return i.namespace=t,i}function i(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,o=0;r>o;o++)e[o]&&(t=e[o].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function a(){n.enable("")}function s(t){var e,r;for(e=0,r=n.skips.length;r>e;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;r>e;e++)if(n.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=o,n.coerce=c,n.disable=a,n.enable=i,n.enabled=s,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var u=0,l},{ms:23}],23:[function(t,e,n){function r(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"h":return n*u;case"minutes":case"minute":case"m":return n*c;case"seconds":case"second":case"s":return n*s;case"ms":return n}}}function o(t){return t>=l?Math.round(t/l)+"d":t>=u?Math.round(t/u)+"h":t>=c?Math.round(t/c)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function i(t){return a(t,l,"day")||a(t,u,"hour")||a(t,c,"minute")||a(t,s,"second")||t+" ms"}function a(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,c=60*s,u=60*c,l=24*u,f=365.25*l;e.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e.long?i(t):o(t)}},{}],24:[function(t,e,n){(function(e){function r(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=h[t.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}function o(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,n.encodePacket(t,e,!0,r)},o.readAsArrayBuffer(t.data)}function i(t,e,r){if(!e)return n.encodeBase64Packet(t,r);if(p)return o(t,e,r);var i=new Uint8Array(1);i[0]=h[t.type];var a=new g([i.buffer,t.data]);return r(a)}function a(t,e,n){for(var r=new Array(t.length),o=l(t.length,n),i=function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})},a=0;a<t.length;a++)i(a,t[a],o)}var s=t("./keys"),c=t("arraybuffer.slice"),u=t("base64-arraybuffer"),l=t("after"),f=t("utf8"),p=navigator.userAgent.match(/Android/i);n.protocol=3;var h=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},d=s(h),m={type:"error",data:"parser error"},g=t("blob");n.encodePacket=function(t,n,o,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof o&&(a=o,o=null);var s=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&s instanceof ArrayBuffer)return r(t,n,a);if(g&&s instanceof e.Blob)return i(t,n,a);var c=h[t.type];return void 0!==t.data&&(c+=o?f.encode(String(t.data)):String(t.data)),a(""+c)},n.encodeBase64Packet=function(t,r){var o="b"+n.packets[t.type];if(g&&t.data instanceof g){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];r(o+t)},i.readAsDataURL(t.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(s){for(var c=new Uint8Array(t.data),u=new Array(c.length),l=0;l<c.length;l++)u[l]=c[l];a=String.fromCharCode.apply(null,u)}return o+=e.btoa(a),r(o)},n.decodePacket=function(t,e,r){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(r)try{t=f.decode(t)}catch(o){return m}var i=t.charAt(0);return Number(i)==i&&d[i]?t.length>1?{type:d[i],data:t.substring(1)}:{type:d[i]}:m}var a=new Uint8Array(t),i=a[0],s=c(t,1);return g&&"blob"===e&&(s=new g([s])),{type:d[i],data:s}},n.decodeBase64Packet=function(t,n){var r=d[t.charAt(0)];if(!e.ArrayBuffer)return{type:r,data:{base64:!0,data:t.substr(1)}};var o=u.decode(t.substr(1));return"blob"===n&&g&&(o=new g([o])),{type:r,data:o}},n.encodePayload=function(t,e,r){function o(t){return t.length+":"+t}function i(t,r){n.encodePacket(t,e,!0,function(t){r(null,o(t))})}return"function"==typeof e&&(r=e,e=null),e?g&&!p?n.encodePayloadAsBlob(t,r):n.encodePayloadAsArrayBuffer(t,r):t.length?void a(t,i,function(t,e){return r(e.join(""))}):r("0:")},n.decodePayload=function(t,e,r){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,r);"function"==typeof e&&(r=e,e=null);var o;if(""==t)return r(m,0,1);for(var i="",a,s,c=0,u=t.length;u>c;c++){var l=t.charAt(c);if(":"!=l)i+=l;else{if(""==i||i!=(a=Number(i)))return r(m,0,1);if(s=t.substr(c+1,a),i!=s.length)return r(m,0,1);if(s.length){if(o=n.decodePacket(s,e,!0),m.type==o.type&&m.data==o.data)return r(m,0,1);var f=r(o,c+a,u);if(!1===f)return}c+=a,i=""}}return""!=i?r(m,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void a(t,r,function(t,n){var r=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);n=r.buffer}o[i++]=e?0:1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]}),e(o.buffer)}):e(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,n[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,a=i.toString(),s=new Uint8Array(a.length+1),o=0;o<a.length;o++)s[o]=parseInt(a[o]);if(s[a.length]=255,g){var c=new g([n.buffer,s.buffer,t]);e(null,c)}})}a(t,r,function(t,n){return e(new g(n))})},n.decodePayloadAsBinary=function(t,e,r){"function"==typeof e&&(r=e,e=null);for(var o=t,i=[],a=!1;o.byteLength>0;){for(var s=new Uint8Array(o),u=0===s[0],l="",f=1;255!=s[f];f++){if(l.length>310){a=!0;break}l+=s[f]}if(a)return r(m,0,1);o=c(o,2+l.length),l=parseInt(l);var p=c(o,0,l);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(h){var d=new Uint8Array(p);p="";for(var f=0;f<d.length;f++)p+=String.fromCharCode(d[f])}i.push(p),o=c(o,l)}var g=i.length;i.forEach(function(t,o){r(n.decodePacket(t,e,!0),o,g)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":25,after:26,"arraybuffer.slice":27,"base64-arraybuffer":28,blob:29,utf8:30}],25:[function(t,e,n){e.exports=Object.keys||function r(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},{}],26:[function(t,e,n){function r(t,e,n){function r(t,o){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(i=!0,e(t),e=n):0!==r.count||i||e(null,o)}var i=!1;return n=n||o,r.count=t,0===t?e():r}function o(){}e.exports=r},{}],27:[function(t,e,n){e.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(0>e&&(e+=r),0>n&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),a=e,s=0;n>a;a++,s++)i[s]=o[a];return i.buffer}},{}],28:[function(t,e,n){!function(t){"use strict";n.encode=function(e){var n=new Uint8Array(e),r,o=n.length,i="";for(r=0;o>r;r+=3)i+=t[n[r]>>2],i+=t[(3&n[r])<<4|n[r+1]>>4],i+=t[(15&n[r+1])<<2|n[r+2]>>6],i+=t[63&n[r+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(e){var n=.75*e.length,r=e.length,o,i=0,a,s,c,u;"="===e[e.length-1]&&(n--,"="===e[e.length-2]&&n--);var l=new ArrayBuffer(n),f=new Uint8Array(l);for(o=0;r>o;o+=4)a=t.indexOf(e[o]),s=t.indexOf(e[o+1]),c=t.indexOf(e[o+2]),u=t.indexOf(e[o+3]),f[i++]=a<<2|s>>4,f[i++]=(15&s)<<4|c>>2,f[i++]=(3&c)<<6|63&u;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],29:[function(t,e,n){(function(t){function n(t,e){e=e||{};for(var n=new r,o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}var r=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,o=function(){try{var t=new Blob(["hi"]);return 2==t.size}catch(e){return!1}}(),i=r&&r.prototype.append&&r.prototype.getBlob;e.exports=function(){return o?t.Blob:i?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,n,r){(function(e){!function(o){function i(t){for(var e=[],n=0,r=t.length,o,i;r>n;)o=t.charCodeAt(n++),o>=55296&&56319>=o&&r>n?(i=t.charCodeAt(n++),56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)):e.push(o);return e}function a(t){for(var e=t.length,n=-1,r,o="";++n<e;)r=t[n],r>65535&&(r-=65536,o+=g(r>>>10&1023|55296),r=56320|1023&r),o+=g(r);return o}function s(t,e){return g(t>>e&63|128)}function c(t){if(0==(4294967168&t))return g(t);var e="";return 0==(4294965248&t)?e=g(t>>6&31|192):0==(4294901760&t)?(e=g(t>>12&15|224),e+=s(t,6)):0==(4292870144&t)&&(e=g(t>>18&7|240),e+=s(t,12),e+=s(t,6)),e+=g(63&t|128)}function u(t){for(var e=i(t),n=e.length,r=-1,o,a="";++r<n;)o=e[r],a+=c(o);return a}function l(){if(b>=v)throw Error("Invalid byte index");var t=255&y[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(){var t,e,n,r,o;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(t=255&y[b],b++,0==(128&t))return t;if(192==(224&t)){var e=l();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=l(),n=l(),o=(15&t)<<12|e<<6|n,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=l(),n=l(),r=l(),o=(15&t)<<18|e<<12|n<<6|r,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function p(t){y=i(t),v=y.length,b=0;for(var e=[],n;(n=f())!==!1;)e.push(n);return a(e)}var h="object"==typeof r&&r,d="object"==typeof n&&n&&n.exports==h&&n,m="object"==typeof e&&e;(m.global===m||m.window===m)&&(o=m);var g=String.fromCharCode,y,v,b,k={version:"2.0.0",encode:u,decode:p};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return k});else if(h&&!h.nodeType)if(d)d.exports=k;else{var w={},x=w.hasOwnProperty;for(var C in k)x.call(k,C)&&(h[C]=k[C])}else o.utf8=k}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(t,e,n){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function c(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;o>r;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},{}],33:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];
e.exports=function i(t){var e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));for(var a=r.exec(t||""),s={},c=14;c--;)s[o[c]]=a[c]||"";return-1!=n&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],34:[function(t,e,n){function r(t,e,n){var r;return r=e?new i(t,e):new i(t)}var o=function(){return this}(),i=o.WebSocket||o.MozWebSocket;e.exports=i?r:null,i&&(r.prototype=i.prototype)},{}],35:[function(t,e,n){(function(n){function r(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(o(t)){for(var r=0;r<t.length;r++)if(e(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var i in t)if(t.hasOwnProperty(i)&&e(t[i]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:36}],36:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],37:[function(t,e,n){var r=t("global");try{e.exports="XMLHttpRequest"in r&&"withCredentials"in new r.XMLHttpRequest}catch(o){e.exports=!1}},{global:38}],38:[function(t,e,n){e.exports=function(){return this}()},{}],39:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],40:[function(t,e,n){var r=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(t[n]);return e},n.merge=function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],41:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function i(t){for(var e=r.exec(t||""),n={},i=14;i--;)n[o[i]]=e[i]||"";return n}},{}],42:[function(t,e,n){(function(e){var r=t("isarray"),o=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(o(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(r(t)){for(var a=new Array(t.length),s=0;s<t.length;s++)a[s]=e(t[s]);return a}if("object"==typeof t&&!(t instanceof Date)){var a={};for(var c in t)a[c]=e(t[c]);return a}return t}var n=[],i=t.data,a=t;return a.data=e(i),a.attachments=n.length,{packet:a,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){var o=e[t.num];return o}if(r(t)){for(var i=0;i<t.length;i++)t[i]=n(t[i]);return t}if(t&&"object"==typeof t){for(var a in t)t[a]=n(t[a]);return t}return t}var o=0;return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function i(t,c,u){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var l=new FileReader;l.onload=function(){u?u[c]=this.result:s=this.result,--a||n(s)},l.readAsArrayBuffer(t)}else if(r(t))for(var f=0;f<t.length;f++)i(t[f],f,t);else if(t&&"object"==typeof t&&!o(t))for(var p in t)i(t[p],p,t)}var a=0,s=t;i(s),a||n(s)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":44,isarray:45}],43:[function(t,e,n){function r(){}function o(t){var e="",r=!1;return e+=t.type,(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)&&(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(r=!0,e+=t.nsp),null!=t.id&&(r&&(e+=",",r=!1),e+=t.id),null!=t.data&&(r&&(e+=","),e+=f.stringify(t.data)),l("encoded %j as %s",t,e),e}function i(t,e){function n(t){var n=d.deconstructPacket(t),r=o(n.packet),i=n.buffers;i.unshift(r),e(i)}d.removeBlobs(t,n)}function a(){this.reconstructor=null}function s(t){var e={},r=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return u();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(e.attachments="";"-"!=t.charAt(++r);)e.attachments+=t.charAt(r);e.attachments=Number(e.attachments)}if("/"==t.charAt(r+1))for(e.nsp="";++r;){var o=t.charAt(r);if(","==o)break;if(e.nsp+=o,r+1==t.length)break}else e.nsp="/";var i=t.charAt(r+1);if(""!=i&&Number(i)==i){for(e.id="";++r;){var o=t.charAt(r);if(null==o||Number(o)!=o){--r;break}if(e.id+=t.charAt(r),r+1==t.length)break}e.id=Number(e.id)}if(t.charAt(++r))try{e.data=f.parse(t.substr(r))}catch(a){return u()}return l("decoded %s as %j",t,e),e}function c(t){this.reconPack=t,this.buffers=[]}function u(t){return{type:n.ERROR,data:"parser error"}}var l=t("debug")("socket.io-parser"),f=t("json3"),p=t("isarray"),h=t("component-emitter"),d=t("./binary"),m=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=a,r.prototype.encode=function(t,e){if(l("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)i(t,e);else{var r=o(t);e([r])}},h(a.prototype),a.prototype.add=function(t){var e;if("string"==typeof t)e=s(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new c(e),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!m(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,this.emit("decoded",e))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":42,"./is-buffer":44,"component-emitter":8,debug:9,isarray:45,json3:46}],44:[function(t,e,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e,n){e.exports=t(36)},{}],46:[function(e,n,r){!function(e){function n(t){if(n[t]!==s)return n[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=n("json-stringify")&&n("json-parse");else{var r,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var a=l.stringify,c="function"==typeof a&&f;if(c){(r=function(){return 1}).toJSON=r;try{c="0"===a(0)&&"0"===a(new Number)&&'""'==a(new String)&&a(o)===s&&a(s)===s&&a()===s&&"1"===a(r)&&"[1]"==a([r])&&"[null]"==a([s])&&"null"==a(null)&&"[null,null,null]"==a([s,o,null])&&a({a:[r,!0,!1,null,"\x00\b\n\f\r	"]})==i&&"1"===a(null,r)&&"[\n 1,\n 2\n]"==a([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new Date(-1))}catch(u){c=!1}}e=c}if("json-parse"==t){var p=l.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){r=p(i);var h=5==r.a.length&&1===r.a[0];if(h){try{h=!p('"	"')}catch(u){}if(h)try{h=1!==p("01")}catch(u){}if(h)try{h=1!==p("1.")}catch(u){}}}}catch(u){h=!1}e=h}}return n[t]=!!e}var o={}.toString,i,a,s,c="function"==typeof t&&t.amd,u="object"==typeof JSON&&JSON,l="object"==typeof r&&r&&!r.nodeType&&r;l&&u?(l.stringify=u.stringify,l.parse=u.parse):l=e.JSON=u||{};var f=new Date(-0xc782b5b800cec);try{f=-109252==f.getUTCFullYear()&&0===f.getUTCMonth()&&1===f.getUTCDate()&&10==f.getUTCHours()&&37==f.getUTCMinutes()&&6==f.getUTCSeconds()&&708==f.getUTCMilliseconds()}catch(p){}if(!n("json")){var h="[object Function]",d="[object Date]",m="[object Number]",g="[object String]",y="[object Array]",v="[object Boolean]",b=n("bug-string-char-index");if(!f)var k=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(t,e){return w[e]+365*(t-1970)+k((t-1969+(e=+(e>1)))/4)-k((t-1901+e)/100)+k((t-1601+e)/400)};(i={}.hasOwnProperty)||(i=function(t){var e={},n;return(e.__proto__=null,e.__proto__={toString:1},e).toString!=o?i=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(n=e.constructor,i=function(t){var e=(this.constructor||n).prototype;return t in this&&!(t in e&&this[t]===e[t])}),e=null,i.call(this,t)});var C={"boolean":1,number:1,string:1,undefined:1},E=function(t,e){var n=typeof t[e];return"object"==n?!!t[e]:!C[n]};if(a=function(t,e){var n=0,r,s,c;(r=function(){this.valueOf=0}).prototype.valueOf=0,s=new r;for(c in s)i.call(s,c)&&n++;return r=s=null,n?a=2==n?function(t,e){var n={},r=o.call(t)==h,a;for(a in t)r&&"prototype"==a||i.call(n,a)||!(n[a]=1)||!i.call(t,a)||e(a)}:function(t,e){var n=o.call(t)==h,r,a;for(r in t)n&&"prototype"==r||!i.call(t,r)||(a="constructor"===r)||e(r);(a||i.call(t,r="constructor"))&&e(r)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],a=function(t,e){var n=o.call(t)==h,r,a,c=!n&&"function"!=typeof t.constructor&&E(t,"hasOwnProperty")?t.hasOwnProperty:i;for(r in t)n&&"prototype"==r||!c.call(t,r)||e(r);for(a=s.length;r=s[--a];c.call(t,r)&&e(r));}),a(t,e)},!n("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},A="000000",_=function(t,e){return(A+(e||0)).slice(-t)},T="\\u00",j=function(t){var e='"',n=0,r=t.length,o=r>10&&b,i;for(o&&(i=t.split(""));r>n;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=S[a];break;default:if(32>a){e+=T+_(2,a.toString(16));break}e+=o?i[n]:b?t.charAt(n):t[n]}}return e+'"'},B=function(t,e,n,r,c,u,l){var f,p,h,b,w,C,E,S,A,T,O,N,I,P,D,R;try{f=e[t]}catch(M){}if("object"==typeof f&&f)if(p=o.call(f),p!=d||i.call(f,"toJSON"))"function"==typeof f.toJSON&&(p!=m&&p!=g&&p!=y||i.call(f,"toJSON"))&&(f=f.toJSON(t));else if(f>-1/0&&1/0>f){if(x){for(w=k(f/864e5),h=k(w/365.2425)+1970-1;x(h+1,0)<=w;h++);for(b=k((w-x(h,0))/30.42);x(h,b+1)<=w;b++);w=1+w-x(h,b),C=(f%864e5+864e5)%864e5,E=k(C/36e5)%24,S=k(C/6e4)%60,A=k(C/1e3)%60,T=C%1e3}else h=f.getUTCFullYear(),b=f.getUTCMonth(),w=f.getUTCDate(),E=f.getUTCHours(),S=f.getUTCMinutes(),A=f.getUTCSeconds(),T=f.getUTCMilliseconds();f=(0>=h||h>=1e4?(0>h?"-":"+")+_(6,0>h?-h:h):_(4,h))+"-"+_(2,b+1)+"-"+_(2,w)+"T"+_(2,E)+":"+_(2,S)+":"+_(2,A)+"."+_(3,T)+"Z"}else f=null;if(n&&(f=n.call(e,t,f)),null===f)return"null";if(p=o.call(f),p==v)return""+f;if(p==m)return f>-1/0&&1/0>f?""+f:"null";if(p==g)return j(""+f);if("object"==typeof f){for(P=l.length;P--;)if(l[P]===f)throw TypeError();if(l.push(f),O=[],D=u,u+=c,p==y){for(I=0,P=f.length;P>I;I++)N=B(I,f,n,r,c,u,l),O.push(N===s?"null":N);R=O.length?c?"[\n"+u+O.join(",\n"+u)+"\n"+D+"]":"["+O.join(",")+"]":"[]"}else a(r||f,function(t){var e=B(t,f,n,r,c,u,l);e!==s&&O.push(j(t)+":"+(c?" ":"")+e)}),R=O.length?c?"{\n"+u+O.join(",\n"+u)+"\n"+D+"}":"{"+O.join(",")+"}":"{}";return l.pop(),R}};l.stringify=function(t,e,n){var r,i,a,s;if("function"==typeof e||"object"==typeof e&&e)if((s=o.call(e))==h)i=e;else if(s==y){a={};for(var c=0,u=e.length,l;u>c;l=e[c++],s=o.call(l),(s==g||s==m)&&(a[l]=1));}if(n)if((s=o.call(n))==m){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==g&&(r=n.length<=10?n:n.slice(0,10));return B("",(l={},l[""]=t,l),i,a,r,"",[])}}if(!n("json-parse")){var O=String.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I,P,D=function(){throw I=P=null,SyntaxError()},R=function(){for(var t=P,e=t.length,n,r,o,i,a;e>I;)switch(a=t.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=b?t.charAt(I):t[I],I++,n;case 34:for(n="@",I++;e>I;)if(a=t.charCodeAt(I),32>a)D();else if(92==a)switch(a=t.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=N[a],I++;break;case 117:for(r=++I,o=I+4;o>I;I++)a=t.charCodeAt(I),a>=48&&57>=a||a>=97&&102>=a||a>=65&&70>=a||D();n+=O("0x"+t.slice(r,I));break;default:D()}else{if(34==a)break;for(a=t.charCodeAt(I),r=I;a>=32&&92!=a&&34!=a;)a=t.charCodeAt(++I);n+=t.slice(r,I)}if(34==t.charCodeAt(I))return I++,n;D();default:if(r=I,45==a&&(i=!0,a=t.charCodeAt(++I)),a>=48&&57>=a){for(48==a&&(a=t.charCodeAt(I+1),a>=48&&57>=a)&&D(),i=!1;e>I&&(a=t.charCodeAt(I),a>=48&&57>=a);I++);if(46==t.charCodeAt(I)){for(o=++I;e>o&&(a=t.charCodeAt(o),a>=48&&57>=a);o++);o==I&&D(),I=o}if(a=t.charCodeAt(I),101==a||69==a){for(a=t.charCodeAt(++I),(43==a||45==a)&&I++,o=I;e>o&&(a=t.charCodeAt(o),a>=48&&57>=a);o++);o==I&&D(),I=o}return+t.slice(r,I)}if(i&&D(),"true"==t.slice(I,I+4))return I+=4,!0;if("false"==t.slice(I,I+5))return I+=5,!1;if("null"==t.slice(I,I+4))return I+=4,null;D()}return"$"},M=function(t){var e,n;if("$"==t&&D(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=R(),"]"!=t;n||(n=!0))n&&(","==t?(t=R(),"]"==t&&D()):D()),","==t&&D(),e.push(M(t));return e}if("{"==t){for(e={};t=R(),"}"!=t;n||(n=!0))n&&(","==t?(t=R(),"}"==t&&D()):D()),(","==t||"string"!=typeof t||"@"!=(b?t.charAt(0):t[0])||":"!=R())&&D(),e[t.slice(1)]=M(R());return e}D()}return t},F=function(t,e,n){var r=L(t,e,n);r===s?delete t[e]:t[e]=r},L=function(t,e,n){var r=t[e],i;if("object"==typeof r&&r)if(o.call(r)==y)for(i=r.length;i--;)F(r,i,n);else a(r,function(t){F(r,t,n)});return n.call(t,e,r)};l.parse=function(t,e){var n,r;return I=0,P=""+t,n=M(R()),"$"!=R()&&D(),I=P=null,e&&o.call(e)==h?L((r={},r[""]=n,r),"",e):n}}}c&&t(function(){return l})}(this)},{}],47:[function(t,e,n){function r(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}e.exports=r},{}]},{},[1])(1)});